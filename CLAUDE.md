# üß† –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Claude AI - ML Crypto Trading System —Å Thinking LSP

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - THINKING LSP –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –ü–ï–†–ï–î –õ–Æ–ë–û–ô –û–ü–ï–†–ê–¶–ò–ï–ô –° –í–ê–ñ–ù–´–ú–ò –§–ê–ô–õ–ê–ú–ò:
1. **–í–°–ï–ì–î–ê** –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ `mcp_lsp_bridge.get_file_context()`
2. **–ê–ù–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨** —Å –ø–æ–º–æ—â—å—é Sequential Thinking –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
3. **–ü–†–û–í–ï–†–Ø–¢–¨** –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ `mcp_get_recent_changes()`
4. **–£–ß–ò–¢–´–í–ê–¢–¨** —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏–∑ 5-—à–∞–≥–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ü–†–û–¶–ï–°–° –ú–´–®–õ–ï–ù–ò–Ø (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤):
```python
# –ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Å —Ñ–∞–π–ª–æ–º:
from lsp_server.thinking_lsp_integration import analyze_with_thinking
analysis = await analyze_with_thinking(file_path)

# –ò–ª–∏ —á–µ—Ä–µ–∑ MCP Bridge:
from lsp_server.mcp_lsp_bridge import get_bridge
bridge = get_bridge()
context = bridge.get_file_context(file_path)
```

### –í–ê–ñ–ù–´–ï –§–ê–ô–õ–´ (—Ç—Ä–µ–±—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞):
- `models/patchtst.py` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏
- `train_universal_transformer.py` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –æ–±—É—á–µ–Ω–∏—è  
- `config/config.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- `data/feature_engineering.py` - –∏–Ω–∂–µ–Ω–µ—Ä–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- `trading/signals.py` - —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –°–¢–ê–¢–£–° THINKING LSP:
- ‚úÖ Sequential Thinking —Å–µ—Ä–≤–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã (PID 4701, 4693)
- ‚úÖ LSP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç (PID 86614)
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã Sequential Thinking –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç

## üåê –Ø–∑—ã–∫ –æ–±—â–µ–Ω–∏—è
- **–í–°–ï–ì–î–ê** –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –ø–∏—Å–∞—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∏—Å–∞—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –õ–æ–≥–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º

## üìÅ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
- **–ù–ï –°–û–ó–î–ê–í–ê–¢–¨** –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑ —è–≤–Ω–æ–π –ø—Ä–æ—Å—å–±—ã
- **–†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨** —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
- **–ù–ï –°–û–ó–î–ê–í–ê–¢–¨** —Ñ–∞–π–ª—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ fix_, fixed_, new_, temp_
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –≤–Ω–æ—Å–∏—Ç—å –∏—Ö –≤ —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª

## üö´ –ó–∞–ø—Ä–µ—Ç—ã
- –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤!!
- –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã!!
- –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - –ø—Ä–∞–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª!!
- –ù–ï —É–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞!!!

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –≤–Ω–µ—Å–µ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Edit tool –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –§–¨–Æ–ß–ï–†–°–ù–û–ì–û —Ä—ã–Ω–∫–∞ (–Ω–µ —Å–ø–æ—Ç)
- –ò—Å–∫–ª—é—á–∏—Ç—å TESTUSDT –∏ –¥—Ä—É–≥–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
- –§–æ–∫—É—Å –Ω–∞ ML –º–æ–¥–µ–ª–∏ –¥–ª—è –∫—Ä–∏–ø—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø–æ—Ä—Ç—É 5555
- Expected returns –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π (20%, 30%, 30% –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö)
- –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ (breakeven, profit locking)

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ML Crypto Trading

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `init_database.py` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î PostgreSQL
- `download_data.py` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Bybit (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—å—é—á–µ—Ä—Å–æ–≤)
- `prepare_dataset.py` - —Ä–∞—Å—á–µ—Ç 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ + expected returns
- **`train_universal_transformer.py`** ‚≠ê - –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø (Temporal Fusion Transformer)
- `train_advanced.py` - LSTM –º–æ–¥–µ–ª—å (—É—Å—Ç–∞—Ä–µ–≤—à–∞—è, –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å)
- `train_transformer_model.py` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è TFT (—É—Å—Ç–∞—Ä–µ–≤—à–∞—è, –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å)
- `monitor_training.py` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `validate_futures_symbols.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —Ñ—å—é—á–µ—Ä—Å–∞—Ö
- `monitor_training.py` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- `check_history_depth.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª—É–±–∏–Ω—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- `config.yaml` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `requirements.txt` - Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `CLAUDE.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5555
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ruslan
- –ë–∞–∑–∞: crypto_trading
- –¢–∞–±–ª–∏—Ü—ã: raw_market_data, processed_market_data, model_metadata

### –ú–æ–¥–µ–ª–∏ ML:
1. **Temporal Fusion Transformer (TFT)** - –æ—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ `train_universal_transformer.py`
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏—é (expected returns) –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –¢–û–õ–¨–ö–û –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (49 —à—Ç—É–∫):
- –¢—Ä–µ–Ω–¥–æ–≤—ã–µ: EMA, ADX, MACD, Ichimoku, SAR, Aroon
- –û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã: RSI, Stochastic, CCI, Williams %R
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: ATR, Bollinger Bands, Donchian
- –û–±—ä–µ–º–Ω—ã–µ: OBV, CMF, MFI
- –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏

### –†–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—å:
- Stop Loss: ¬±1.1%
- Take Profit: ¬±5.8%
- –ê–Ω–∞–ª–∏–∑ 100 —Å–≤–µ—á–µ–π –≤–ø–µ—Ä–µ–¥ (25 —á–∞—Å–æ–≤)
- –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è: 20% –Ω–∞ +1.2%, 30% –Ω–∞ +2.4%, 30% –Ω–∞ +3.5%
- –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏: breakeven –Ω–∞ +1.2%, profit locking –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤:
```
logs/training_YYYYMMDD_HHMMSS/
‚îú‚îÄ‚îÄ training.log              # –ü–æ–ª–Ω—ã–π –ª–æ–≥
‚îú‚îÄ‚îÄ model_name_metrics.csv    # –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ —ç–ø–æ—Ö–∞–º
‚îú‚îÄ‚îÄ final_report.txt          # –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
‚îú‚îÄ‚îÄ plots/                    # –ì—Ä–∞—Ñ–∏–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ training_progress.png # –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —ç–ø–æ—Ö
‚îÇ   ‚îú‚îÄ‚îÄ epoch_XXX.png        # –°–Ω–∏–º–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ *_evaluation.png     # –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
‚îî‚îÄ‚îÄ tensorboard/             # –î–∞–Ω–Ω—ã–µ –¥–ª—è TensorBoard
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–î–ê, –ï–°–¢–¨ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò!):
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —ç–ø–æ—Ö**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: Loss, MAE/Accuracy, Learning Rate, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- TensorBoard: `tensorboard --logdir logs/training_*/tensorboard/`
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ `monitor_training.py`

## üöÄ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω:
```bash
# –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
python main.py --mode train
```

### –ü–æ —à–∞–≥–∞–º:
1. `python main.py --mode data` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
2. `python main.py --mode train` - –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
3. `python main.py --mode backtest` - –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
5. **`python train_universal_transformer.py --task regression`** ‚≠ê - –û–°–ù–û–í–ù–ê–Ø –ö–û–ú–ê–ù–î–ê

### ‚ö†Ô∏è –í–ê–ñ–ù–û - –í–°–ï –î–û–†–ê–ë–û–¢–ö–ò –¢–û–õ–¨–ö–û –í `train_universal_transformer.py`:
```bash
# –î–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –≤ %)
python train_universal_transformer.py --task regression

# –î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ profit/loss)
python train_universal_transformer.py --task classification
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
python monitor_training.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ TensorBoard (–±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ)
tensorboard --logdir logs/training_YYYYMMDD_HHMMSS/tensorboard/
```

### –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **–ì—Ä–∞—Ñ–∏–∫–∏**: `logs/training_*/plots/training_progress.png`
- **–ú–µ—Ç—Ä–∏–∫–∏**: `logs/training_*/*_metrics.csv`
- **–û—Ç—á–µ—Ç**: `logs/training_*/final_report.txt`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
- –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ–º —Å –§–¨–Æ–ß–ï–†–°–ù–´–ú–ò –¥–∞–Ω–Ω—ã–º–∏ (market_type='futures')
- –ò—Å–∫–ª—é—á–∞–µ–º TESTUSDT –∏ –ø–æ–¥–æ–±–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ–º 15-–º–∏–Ω—É—Ç–Ω—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º
- –î–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏: –æ–±—É—á–∞–µ–º 2 –º–æ–¥–µ–ª–∏ (buy_return_predictor, sell_return_predictor)
- –î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏: –æ–±—É—á–∞–µ–º 4 –º–æ–¥–µ–ª–∏ (buy_profit, buy_loss, sell_profit, sell_loss)
- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –æ–±—É—á–µ–Ω–∏—è
- **–í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –¢–û–õ–¨–ö–û –í `train_universal_transformer.py`**

## üñ•Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. IDE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP (Model Context Protocol)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ `mcp__ide__getDiagnostics`

### 2. Vast.ai –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è GPU –æ–±—É—á–µ–Ω–∏—è
- **–°–µ—Ä–≤–µ—Ä**: 184.98.25.179:41575 –∏–ª–∏ ssh8.vast.ai:13641
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: `./connect_vast.sh` (—Å–æ–∑–¥–∞–µ—Ç —Ç—É–Ω–Ω–µ–ª–∏ –¥–ª—è Web UI, TensorBoard)
- **–ë–î —Ç—É–Ω–Ω–µ–ª—å**: `./setup_remote_db_tunnel.sh` (–ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î ‚Üí —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: `./sync_to_vast.sh` (rsync –ø—Ä–æ–µ–∫—Ç–∞)
- **–û–±—É—á–µ–Ω–∏–µ**: `./run_training_on_vast.sh` (–º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: TensorBoard –Ω–∞ http://localhost:6006

### 3. Metabase –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ó–∞–ø—É—Å–∫**: `./start_metabase.sh` –∏–ª–∏ `docker-compose up -d` –≤ –ø–∞–ø–∫–µ metabase/
- **–î–æ—Å—Ç—É–ø**: http://localhost:3333
- **–ë–î**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL:5555
- **–î–∞—à–±–æ—Ä–¥—ã**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–∏–º–≤–æ–ª–∞–º, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –æ–±—É—á–µ–Ω–∏—è

### 4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Realtime –≥—Ä–∞—Ñ–∏–∫–∏**: –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —ç–ø–æ—Ö –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è
- **TensorBoard**: –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏
- **Matplotlib**: –≥—Ä–∞—Ñ–∏–∫–∏ Loss, Accuracy, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- **CSV –ª–æ–≥–∏**: –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üìà –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ—å—é—á–µ—Ä—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å Bybit
- ‚úÖ –†–∞—Å—á–µ—Ç 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ Expected returns —Å —É—á–µ—Ç–æ–º —á–∞—Å—Ç–∏—á–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π
- ‚úÖ TFT –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ `train_universal_transformer.py`
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vast.ai –¥–ª—è GPU
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ (51 —Å–∏–º–≤–æ–ª)

## üí° –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ: `python main.py --mode data`
2. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å: `python main.py --mode train`
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Metabase
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫

## üö® –û–°–ù–û–í–ù–û–ô –ü–†–û–ï–ö–¢ - crypto_ai_trading

### –õ–æ–∫–∞—Ü–∏—è: `/Users/ruslan/PycharmProjects/LLM TRANSFORM/crypto_ai_trading/`
### GitHub: https://github.com/obertruper/crypto_ai_trading

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º–∏ —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **PatchTST** (Patch Time Series Transformer). –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.

### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
crypto_ai_trading/
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ data/                 # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ models/               # ML –º–æ–¥–µ–ª–∏ (PatchTST, –∞–Ω—Å–∞–º–±–ª–∏)
‚îú‚îÄ‚îÄ trading/              # –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
‚îú‚îÄ‚îÄ training/             # –û–±—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ notebooks/            # Jupyter notebooks –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚îî‚îÄ‚îÄ main.py              # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

### üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
1. **PatchTST –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–µ—Ä–µ–¥–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
2. **100+ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** - –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
3. **–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π TP/SL
4. **6 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏—è–º–∏** - Kelly, Volatility-based, Risk Parity –∏ –¥—Ä.
5. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç** - —á–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è, –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏
6. **–ê–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** - Voting, Stacking, Dynamic ensembles
7. **–ü–æ–ª–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥** - —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
8. **PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /Users/ruslan/PycharmProjects/LLM\ TRANSFORM/crypto_ai_trading/

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
python setup.py

# –î–µ–º–æ —Ä–µ–∂–∏–º
python main.py --mode demo

# –ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
python main.py --mode full

# –¢–æ–ª—å–∫–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python main.py --mode data

# –¢–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã)
python main.py --mode train

# –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥
python main.py --mode backtest
```

### üìä –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: Bybit —Ñ—å—é—á–µ—Ä—Å—ã
- **–¢–∞–π–º—Ñ—Ä–µ–π–º**: 15 –º–∏–Ω—É—Ç
- **–°–∏–º–≤–æ–ª—ã**: 50+ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä
- **–ü–µ—Ä–∏–æ–¥**: —Å 2022 –≥–æ–¥–∞
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (–ø–æ—Ä—Ç 5555)

### üß™ Jupyter Notebooks:
1. **01_data_exploration.ipynb** - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
2. **02_feature_analysis.ipynb** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
3. **03_model_evaluation.ipynb** - –æ—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–µ–π

### üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è:
```bash
# TensorBoard
tensorboard --logdir logs/

# –ò–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
python monitor_training.py
```

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config/config.yaml`:
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏
- –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î

### ‚ö° –í–∞–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
python -c "from data.data_loader import CryptoDataLoader; loader = CryptoDataLoader(config); print(loader.get_data_stats())"

# –ë—ã—Å—Ç—Ä–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏
python -c "from training.validator import validate_checkpoint; validate_checkpoint('models_saved/best_model.pth', test_loader, config)"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
python utils/generate_report.py
```

### üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- **–í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ** - —Ç–æ–ª—å–∫–æ –≤ `models/patchtst.py`
- **–ù–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏** - –≤ `data/feature_engineering.py`
- **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏** - –≤ `trading/signals.py`
- **–ú–µ—Ç—Ä–∏–∫–∏** - –≤ `utils/metrics.py`

### üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ª–æ–≥–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type hints
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
5. A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π