# üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ML –¥–ª—è –∫—Ä–∏–ø—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
LLM TRANSFORM/
‚îú‚îÄ‚îÄ config.yaml                 # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ init_database.py           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î PostgreSQL
‚îú‚îÄ‚îÄ download_data.py           # –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å Bybit
‚îú‚îÄ‚îÄ prepare_dataset.py         # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å —É—á–µ—Ç–æ–º —á–∞—Å—Ç–∏—á–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π
‚îú‚îÄ‚îÄ train_universal_transformer.py  # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è TFT –º–æ–¥–µ–ª—å (—Ä–µ–≥—Ä–µ—Å—Å–∏—è/–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ train_transformer_model.py     # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è TFT –º–æ–¥–µ–ª—å –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ train_advanced.py             # LSTM —Å Attention –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ monitor_training.py           # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md       # –≠—Ç–æ—Ç —Ñ–∞–π–ª - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ CLAUDE.md                  # –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Claude AI
‚îî‚îÄ‚îÄ trained_model/            # –ü–∞–ø–∫–∞ —Å –æ–±—É—á–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îú‚îÄ‚îÄ buy_return_predictor.h5
    ‚îú‚îÄ‚îÄ sell_return_predictor.h5
    ‚îú‚îÄ‚îÄ scaler.pkl
    ‚îî‚îÄ‚îÄ metadata.json
```

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### 1. config.yaml
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```yaml
database:           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
  host: localhost
  port: 5555
  database: crypto_trading
  user: ruslan
  password:

risk_profile:       # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
  default_balance: 500
  risk_per_trade: 0.02
  leverage: 10
  stop_loss_pct_buy: 0.989    # -1.1%
  stop_loss_pct_sell: 1.011   # +1.1%
  take_profit_pct_buy: 1.058  # +5.8%
  take_profit_pct_sell: 0.942 # -5.8%

model:              # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏
  sequence_length: 60         # 15 —á–∞—Å–æ–≤ –¥–ª—è 15m —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
  prediction_horizon: 100     # 25 —á–∞—Å–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑
  batch_size: 32
  epochs: 100
  learning_rate: 0.001

data_download:      # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  interval: '15'              # 15-–º–∏–Ω—É—Ç–Ω—ã–µ —Å–≤–µ—á–∏
  days: 1095                  # 3 –≥–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
  symbols: [...]              # –°–ø–∏—Å–æ–∫ 51 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
```

### 2. init_database.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î PostgreSQL

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- `load_config()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ YAML
- `create_database()` - —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `init_tables()` - —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–∞–±–ª–∏—Ü

**–°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã**:
1. **raw_market_data** - —Å—ã—Ä—ã–µ OHLCV –¥–∞–Ω–Ω—ã–µ —Å –±–∏—Ä–∂–∏
2. **processed_market_data** - –¥–∞–Ω–Ω—ã–µ —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
3. **model_metadata** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
4. **training_sequences** - –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
5. **model_predictions** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ–¥–µ–ª–∏

### 3. download_data.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å Bybit API –≤ PostgreSQL

**–ö–ª–∞—Å—Å—ã**:
- `PostgreSQLManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
- `BybitDataDownloader` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –±–∏—Ä–∂–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `get_klines()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π —Å Bybit API
- `insert_raw_data_batch()` - –ø–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
- `download_historical_data()` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- `download_multiple_symbols()` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- –ò–Ω—Ç–µ—Ä–≤–∞–ª: 15 –º–∏–Ω—É—Ç
- –ü–µ—Ä–∏–æ–¥: 1095 –¥–Ω–µ–π (3 –≥–æ–¥–∞)
- Batch size: 1000 —Å–≤–µ—á–µ–π –∑–∞ –∑–∞–ø—Ä–æ—Å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: futures –∏ spot —Ä—ã–Ω–∫–∏

### 4. prepare_dataset.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å—á–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

**–ö–ª–∞—Å—Å—ã**:
- `PostgreSQLManager` - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- `MarketDatasetPreparator` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `calculate_technical_indicators()` - —Ä–∞—Å—á–µ—Ç 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- `create_labels_based_on_risk_profile()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç–æ–∫
- `_calculate_enhanced_result()` - —Ä–∞—Å—á–µ—Ç —Å —É—á–µ—Ç–æ–º —á–∞—Å—Ç–∏—á–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π –∏ –∑–∞—â–∏—Ç—ã –ø—Ä–∏–±—ã–ª–∏
- `save_processed_data()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

**–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** (49 –≥—Ä—É–ø–ø):
1. **–¢—Ä–µ–Ω–¥–æ–≤—ã–µ**: EMA, ADX, MACD, Ichimoku, SAR, Aroon, DPO
2. **–û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã**: RSI, Stochastic, CCI, Williams %R, ROC, Ultimate
3. **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å**: ATR, Bollinger Bands, Donchian Channel
4. **–û–±—ä–µ–º–Ω—ã–µ**: OBV, CMF, MFI
5. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã**: Vortex, —Ü–µ–Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

**–°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫**:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±—É–¥—É—â–∏–µ 100 –±–∞—Ä–æ–≤ (25 —á–∞—Å–æ–≤)
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (expected returns) –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π (20% –Ω–∞ +1.2%, 30% –Ω–∞ +2.4%, 30% –Ω–∞ +3.5%)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞—â–∏—Ç—É –ø—Ä–∏–±—ã–ª–∏ (breakeven, profit locking)
- –°–æ–∑–¥–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 5. train_universal_transformer.py ‚≠ê –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**‚ö†Ô∏è –í–ê–ñ–ù–û**: –í—Å–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤–Ω–æ—Å—è—Ç—Å—è –¢–û–õ–¨–ö–û –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª!

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - Temporal Fusion Transformer (TFT)**:
- Variable Selection Network (VSN) - –≤—ã–±–æ—Ä –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- Gated Residual Networks (GRN) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- LSTM encoder - –∑–∞—Ö–≤–∞—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Positional Encoding - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- Transformer Blocks (4) - self-attention –º–µ—Ö–∞–Ω–∏–∑–º
- Interpretable Multi-Head Attention - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ
- Output layer - —Ä–µ–≥—Ä–µ—Å—Å–∏—è –∏–ª–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:
- `d_model`: 128 (—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏)
- `num_heads`: 8 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ–≤ –≤–Ω–∏–º–∞–Ω–∏—è)
- `num_transformer_blocks`: 4
- `dropout_rate`: 0.2
- `sequence_length`: 60 (15 —á–∞—Å–æ–≤ –∏—Å—Ç–æ—Ä–∏–∏)

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã**:
1. **–†–µ–≥—Ä–µ—Å—Å–∏—è**: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ (%)
   - Loss: Huber Loss (—É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –≤—ã–±—Ä–æ—Å–∞–º)
   - –ú–µ—Ç—Ä–∏–∫–∏: MAE, RMSE, R¬≤, Direction Accuracy
   
2. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ profit/loss
   - Loss: Focal Loss (–¥–ª—è –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞—Å—Å–æ–≤)
   - –ú–µ—Ç—Ä–∏–∫–∏: Accuracy, Precision, Recall, F1-Score

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPU —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- TensorBoard –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤
- Early stopping –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π learning rate

### üìä –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–û–¶–ï–°–°–ê –û–ë–£–ß–ï–ù–ò–Ø

**–î–∞, –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!**

#### –ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ (–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —ç–ø–æ—Ö)**:
   - –ì—Ä–∞—Ñ–∏–∫ Loss (train/validation)
   - –ì—Ä–∞—Ñ–∏–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ (MAE –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏, Accuracy –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏)
   - –ì—Ä–∞—Ñ–∏–∫ Learning Rate Schedule
   - –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è

2. **–°–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
   - `logs/training_YYYYMMDD_HHMMSS/plots/training_progress.png` - –æ—Å–Ω–æ–≤–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - `logs/training_YYYYMMDD_HHMMSS/plots/epoch_XXX.png` - —Å–Ω–∏–º–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–π 5-–π —ç–ø–æ—Ö–µ
   - `logs/training_YYYYMMDD_HHMMSS/MODEL_NAME_metrics.csv` - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ CSV

3. **–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏**:
   - Scatter plot –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π vs –∏—Å—Ç–∏–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
   - –í—Ä–µ–º–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –∑–Ω–∞—á–µ–Ω–∏–π

4. **TensorBoard –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   tensorboard --logdir logs/training_YYYYMMDD_HHMMSS/tensorboard/
   ```
   –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
   - –ì—Ä–∞—Ñ–∏–∫–∏ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
   - –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –≤–µ—Å–æ–≤
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–∏
   - –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã

### 6. monitor_training.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

### –¢–∞–±–ª–∏—Ü–∞: raw_market_data
```sql
id BIGSERIAL PRIMARY KEY
symbol VARCHAR(20)           # –°–∏–º–≤–æ–ª (BTCUSDT)
timestamp BIGINT            # Unix timestamp
datetime TIMESTAMP          # –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–∞—è –¥–∞—Ç–∞
open DECIMAL(20, 8)        # –¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è
high DECIMAL(20, 8)        # –ú–∞–∫—Å–∏–º—É–º
low DECIMAL(20, 8)         # –ú–∏–Ω–∏–º—É–º
close DECIMAL(20, 8)       # –¶–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
volume DECIMAL(20, 8)      # –û–±—ä–µ–º
turnover DECIMAL(20, 8)    # –û–±–æ—Ä–æ—Ç
interval_minutes INTEGER    # –ò–Ω—Ç–µ—Ä–≤–∞–ª (15)
market_type VARCHAR(20)     # –¢–∏–ø —Ä—ã–Ω–∫–∞ (futures/spot)
created_at TIMESTAMP       # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
```

### –¢–∞–±–ª–∏—Ü–∞: processed_market_data
```sql
id BIGSERIAL PRIMARY KEY
raw_data_id BIGINT         # –°—Å—ã–ª–∫–∞ –Ω–∞ raw_market_data
symbol VARCHAR(20)
timestamp BIGINT
datetime TIMESTAMP
open, high, low, close, volume DECIMAL(20, 8)
technical_indicators JSONB  # –í—Å–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã + expected returns
buy_profit_target INTEGER   # –ú–µ—Ç–∫–∞ –¥–ª—è buy profit (0/1)
buy_loss_target INTEGER     # –ú–µ—Ç–∫–∞ –¥–ª—è buy loss (0/1)
sell_profit_target INTEGER  # –ú–µ—Ç–∫–∞ –¥–ª—è sell profit (0/1)
sell_loss_target INTEGER    # –ú–µ—Ç–∫–∞ –¥–ª—è sell loss (0/1)
processing_version VARCHAR(10)
created_at TIMESTAMP
updated_at TIMESTAMP
```

**technical_indicators JSONB —Å–æ–¥–µ—Ä–∂–∏—Ç**:
- 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- buy_expected_return - –æ–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –¥–ª—è BUY
- sell_expected_return - –æ–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –¥–ª—è SELL

### –¢–∞–±–ª–∏—Ü–∞: model_metadata
```sql
id SERIAL PRIMARY KEY
model_name VARCHAR(100)     # –ò–º—è –º–æ–¥–µ–ª–∏
model_type VARCHAR(50)      # –¢–∏–ø (universal_transformer)
version VARCHAR(20)         # –í–µ—Ä—Å–∏—è
feature_columns JSONB       # –°–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
training_config JSONB       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è
performance_metrics JSONB   # –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
file_path VARCHAR(500)      # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –º–æ–¥–µ–ª–∏
created_at TIMESTAMP
is_active BOOLEAN
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏:
- **MAE** (Mean Absolute Error) - —Å—Ä–µ–¥–Ω—è—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ %
- **RMSE** (Root Mean Square Error) - –∫–æ—Ä–µ–Ω—å —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–π –æ—à–∏–±–∫–∏
- **R¬≤** - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏–∏
- **Direction Accuracy** - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **Accuracy** - –æ–±—â–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- **Precision** - —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- **Recall** - –ø–æ–ª–Ω–æ—Ç–∞ (–ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö)
- **F1 Score** - –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ Precision –∏ Recall
- **AUC** - –ø–ª–æ—â–∞–¥—å –ø–æ–¥ ROC –∫—Ä–∏–≤–æ–π

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
**–†–µ–≥—Ä–µ—Å—Å–∏—è**:
- MAE: 1.5-2.5%
- Direction Accuracy: 55-65%

**–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**:
- Accuracy: 65-75%
- F1 Score: 0.6-0.7

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
1. –û–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª PROJECT_STRUCTURE.md
2. –û–±–Ω–æ–≤–∏—Ç—å config.yaml –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. –û–±–Ω–æ–≤–∏—Ç—å requirements.txt –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å init_database.py –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:
- –ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å timestamp
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –ë–î –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏
- –°—Ç–∞—Ä—ã–µ –º–æ–¥–µ–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è –≤ trained_model/archive/

## üöÄ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞

### –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω:
```bash
python run_futures_pipeline.py
```

### –ü–æ —à–∞–≥–∞–º:
1. `python init_database.py` - —Å–æ–∑–¥–∞–Ω–∏–µ –ë–î
2. `python validate_futures_symbols.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
3. `python download_data.py` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
4. `python prepare_dataset.py` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å —Ä–∞—Å—á–µ—Ç–æ–º expected returns
5. **`python train_universal_transformer.py --task regression`** - ‚≠ê –û–°–ù–û–í–ù–ê–Ø –ö–û–ú–ê–ù–î–ê –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø

### –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π:
```bash
# –î–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏)
python train_universal_transformer.py --task regression

# –î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ profit/loss)
python train_universal_transformer.py --task classification
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
python monitor_training.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ TensorBoard (–±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ)
tensorboard --logdir logs/training_YYYYMMDD_HHMMSS/tensorboard/
```

### –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **–ì—Ä–∞—Ñ–∏–∫–∏**: `logs/training_YYYYMMDD_HHMMSS/plots/`
- **–ú–µ—Ç—Ä–∏–∫–∏**: `logs/training_YYYYMMDD_HHMMSS/*_metrics.csv`
- **–û—Ç—á–µ—Ç**: `logs/training_YYYYMMDD_HHMMSS/final_report.txt`
- **–ú–æ–¥–µ–ª–∏**: `trained_model/`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç config.yaml –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–¥–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É logs/ —Å timestamp
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ tqdm progress bars
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ plots/
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPU –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
- –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å FUTURES –¥–∞–Ω–Ω—ã–º–∏