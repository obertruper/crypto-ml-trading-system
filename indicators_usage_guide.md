# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—Ü–µ–Ω–∫–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—Ü–µ–Ω–∫–∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **`technical_indicators_patterns.py`** - –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
2. **`signal_quality_criteria.py`** - –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã  
3. **`indicators_usage_guide.md`** - –î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (49 —à—Ç—É–∫)

### 1. –¢–†–ï–ù–î–û–í–´–ï –ò–ù–î–ò–ö–ê–¢–û–†–´ (13 —à—Ç—É–∫)
- **EMA 15** - –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è
- **ADX** - –ò–Ω–¥–µ–∫—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è + DI+, DI-
- **MACD** - –°—Ö–æ–∂–¥–µ–Ω–∏–µ-—Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å–∫–æ–ª—å–∑—è—â–∏—Ö —Å—Ä–µ–¥–Ω–∏—Ö + Signal + Histogram
- **CCI** - –ò–Ω–¥–µ–∫—Å —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- **Ichimoku** - –ö–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –∏ –±–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏–∏
- **SAR** - –ü–∞—Ä–∞–±–æ–ª–∏—á–µ—Å–∫–∏–π SAR
- **Aroon** - Aroon Up/Down
- **DPO** - –î–µ—Ç—Ä–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π —Ü–µ–Ω–æ–≤–æ–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä
- **Vortex** - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∏—Ö—Ä—è VI+/VI-

### 2. –û–°–¶–ò–õ–õ–Ø–¢–û–†–´ (6 —à—Ç—É–∫)
- **RSI** - –ò–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã
- **Stochastic** - –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä %K/%D
- **Williams %R** - –ü—Ä–æ—Ü–µ–Ω—Ç –£–∏–ª—å—è–º—Å–∞
- **ROC** - –°–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **Ultimate Oscillator** - –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä

### 3. –ò–ù–î–ò–ö–ê–¢–û–†–´ –í–û–õ–ê–¢–ò–õ–¨–ù–û–°–¢–ò (6 —à—Ç—É–∫)
- **ATR** - –°—Ä–µ–¥–Ω–∏–π –∏—Å—Ç–∏–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
- **Bollinger Bands** - –ü–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞ (Upper/Lower/Basis)
- **Donchian Channel** - –ö–∞–Ω–∞–ª –î–æ–Ω—á–∏–∞–Ω–∞ (Upper/Lower)

### 4. –û–ë–™–ï–ú–ù–´–ï –ò–ù–î–ò–ö–ê–¢–û–†–´ (5 —à—Ç—É–∫)
- **OBV** - –û–±—ä–µ–º–Ω—ã–π –±–∞–ª–∞–Ω—Å
- **CMF** - –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ –ß–∞–π–∫–∏–Ω–∞
- **MFI** - –ò–Ω–¥–µ–∫—Å –¥–µ–Ω–µ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- **Volume SMA** - –°–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –æ–±—ä–µ–º–∞
- **Volume Ratio** - –û—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–º–∞ –∫ —Å—Ä–µ–¥–Ω–µ–º—É

### 5. –ü–†–û–ò–ó–í–û–î–ù–´–ï –ò–ù–î–ò–ö–ê–¢–û–†–´ (8 —à—Ç—É–∫)
- **MACD Signal Ratio** - –û—Ç–Ω–æ—à–µ–Ω–∏–µ MACD –∫ —Å–∏–≥–Ω–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏
- **ADX Difference** - –†–∞–∑–Ω–æ—Å—Ç—å +DI –∏ -DI
- **BB Position** - –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—ã –≤ –ø–æ–ª–æ—Å–∞—Ö –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞
- **RSI Distance** - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ RSI –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ (50)
- **Stoch Difference** - –†–∞–∑–Ω–æ—Å—Ç—å %K –∏ %D
- **Vortex Ratio** - –û—Ç–Ω–æ—à–µ–Ω–∏–µ VI+ –∫ VI-
- **Ichimoku Difference** - –†–∞–∑–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–π –∏ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–π
- **ATR Normalized** - –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π ATR

### 6. –í–†–ï–ú–ï–ù–ù–´–ï –ü–†–ò–ó–ù–ê–ö–ò (3 —à—Ç—É–∫–∏)
- **Hour** - –ß–∞—Å —Ç–æ—Ä–≥–æ–≤–ª–∏
- **Day of Week** - –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏
- **Is Weekend** - –§–ª–∞–≥ –≤—ã—Ö–æ–¥–Ω—ã—Ö

### 7. –¶–ï–ù–û–í–´–ï –ü–ê–¢–¢–ï–†–ù–´ (8 —à—Ç—É–∫)
- **Price Change 1/4/16** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ 1, 4, 16 –±–∞—Ä–æ–≤
- **Volatility 4/16** - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 4, 16 –±–∞—Ä–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from technical_indicators_patterns import TechnicalIndicatorPatterns
from signal_quality_criteria import SignalQualityEvaluator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
patterns = TechnicalIndicatorPatterns()
evaluator = SignalQualityEvaluator()

# –î–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (–∏–∑ prepare_dataset.py)
indicators = {
    'ema_15': 100.5,
    'adx_val': 28,
    'rsi_val': 35,
    'macd_val': 0.0015,
    'volume_ratio': 1.8,
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
}

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
signal_result = patterns.get_combined_signal(indicators, current_price=100.0)

# –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–∞
quality_result = evaluator.evaluate_signal_quality(signal_result)

print(f"–î–µ–π—Å—Ç–≤–∏–µ: {signal_result['action']}")
print(f"–ö–∞—á–µ—Å—Ç–≤–æ: {quality_result['quality_level'].name}")
print(f"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {quality_result['recommendation']}")
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```python
# –°–∏–≥–Ω–∞–ª—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
category_signals = patterns.get_category_signals(indicators, current_price)

for category, data in category_signals.items():
    if data['signals']:
        print(f"\n{category.upper()}:")
        print(f"–ö–æ–Ω—Å–µ–Ω—Å—É—Å: {data['consensus'].name}")
        print(f"–ö–∞—á–µ—Å—Ç–≤–æ: {data['avg_quality']:.2f}")
        
        for signal in data['signals']:
            evaluation = patterns.evaluate_indicator(
                signal['indicator'], 
                signal['value'], 
                current_price
            )
            print(f"  {signal['indicator']}: {evaluation['recommendation']}")
```

### –û—Ü–µ–Ω–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞

```python
# –û—Ü–µ–Ω–∫–∞ RSI
rsi_evaluation = patterns.evaluate_indicator('rsi_val', 35, current_price)

print(f"RSI —Å–∏–≥–Ω–∞–ª: {rsi_evaluation['signal_strength'].name}")
print(f"–ö–∞—á–µ—Å—Ç–≤–æ: {rsi_evaluation['quality']:.2f}")
print(f"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {rsi_evaluation['recommendation']}")
print(f"–í –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ: {rsi_evaluation['in_optimal_range']}")
```

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –£—Ä–æ–≤–Ω–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

1. **EXCELLENT (5)** - –ë–æ–ª–µ–µ 90% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
   - –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–π–¥–µ–Ω—ã
   - –í—ã—Å–æ–∫–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
   - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

2. **GOOD (4)** - 70-90% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
   - –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
   - –•–æ—Ä–æ—à–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

3. **MODERATE (3)** - 50-70% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
   - –ë–∞–∑–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
   - –°—Ä–µ–¥–Ω—è—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
   - –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

4. **WEAK (2)** - 30-50% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
   - –°–ª–∞–±—ã–µ —Å–∏–≥–Ω–∞–ª—ã
   - –ù–∏–∑–∫–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
   - –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏

5. **POOR (1)** - –ú–µ–Ω–µ–µ 30% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
   - –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
   - –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–≥–Ω–∞–ª

### –§–∏–ª—å—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
filters = quality_result['filters_passed']

required_filters = [
    'min_agreement',      # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (60%)
    'volume_confirm',     # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º (–æ–±—ä–µ–º > 1.2x —Å—Ä–µ–¥–Ω–µ–≥–æ)
    'market_suitable',    # –ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
    'time_suitable',      # –ü–æ–¥—Ö–æ–¥—è—â–µ–µ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤–ª–∏
    'risk_reward_ok'      # –ü—Ä–∏–µ–º–ª–µ–º–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å
]

if filters['all_passed']:
    print("‚úÖ –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–π–¥–µ–Ω—ã - —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é")
else:
    failed = [f for f in required_filters if not filters[f]]
    print(f"‚ùå –ù–µ –ø—Ä–æ–π–¥–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã: {', '.join(failed)}")
```

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º

### –¢—Ä–µ–Ω–¥–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏

```python
# 1. –°–∏–ª—å–Ω—ã–π –≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥
strong_uptrend_conditions = {
    'adx_val': '>25',           # –°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥
    'adx_plus_di': '>adx_minus_di + 5',  # +DI –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç
    'ema_15': 'price > ema * 1.002',     # –¶–µ–Ω–∞ –≤—ã—à–µ EMA
    'macd_val': '>0 and rising',         # MACD –≤—ã—à–µ –Ω—É–ª—è –∏ —Ä–∞—Å—Ç–µ—Ç
    'sar': 'below_price',               # SAR –ø–æ–¥ —Ü–µ–Ω–æ–π
    'ichimoku_conv': '>ichimoku_base'   # –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤—ã—à–µ –±–∞–∑—ã
}

# 2. –†–∞–∑–≤–æ—Ä–æ—Ç —Ç—Ä–µ–Ω–¥–∞
trend_reversal_conditions = {
    'adx_val': '<20',           # –°–ª–∞–±—ã–π —Ç—Ä–µ–Ω–¥
    'macd_hist': 'divergence',  # –î–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è MACD
    'rsi_val': '>70 or <30',    # –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è RSI
    'cci_val': '>100 or <-100', # –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è CCI
    'volume_ratio': '>1.5'      # –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –æ–±—ä–µ–º
}
```

### –û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã - –°–∏–≥–Ω–∞–ª—ã —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞

```python
# –ü–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å (—Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É)
oversold_signals = {
    'rsi_val': '<30',           # RSI –≤ –∑–æ–Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏
    'stoch_k': '<20',           # Stochastic –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω
    'williams_r': '<-80',       # Williams %R –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω
    'mfi': '<20',               # MFI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Ç–æ–∫ –∫–∞–ø–∏—Ç–∞–ª–∞
    'volume_ratio': '>1.2'      # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
}

# –ü–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å (—Å–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É)
overbought_signals = {
    'rsi_val': '>70',           # RSI –≤ –∑–æ–Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏
    'stoch_k': '>80',           # Stochastic –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω
    'williams_r': '>-20',       # Williams %R –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω
    'mfi': '>80',               # MFI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–±—ã—Ç–æ–∫ –ø–æ–∫—É–ø–æ–∫
    'volume_ratio': '>1.2'      # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
}
```

### –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

```python
# –ò–¥–µ–∞–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
optimal_volatility = {
    'atr_norm': '0.005 < value < 0.02',    # 0.5% - 2% –æ—Ç —Ü–µ–Ω—ã
    'bb_position': '0.2 < value < 0.8',    # –ù–µ –Ω–∞ –∫—Ä–∞—è—Ö –ø–æ–ª–æ—Å
    'volatility_16': 'stable_trend',        # –°—Ç–∞–±–∏–ª—å–Ω–∞—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
    'donchian_upper': 'not_at_extreme'      # –ù–µ –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö
}

# –ò–∑–±–µ–≥–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
avoid_conditions = {
    'atr_norm': '>0.03',        # –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
    'bb_position': '>0.95 or <0.05',  # –¶–µ–Ω–∞ –Ω–∞ –∫—Ä–∞—è—Ö –ø–æ–ª–æ—Å
    'volatility_4': 'spike',    # –í–Ω–µ–∑–∞–ø–Ω—ã–µ –≤—Å–ø–ª–µ—Å–∫–∏
}
```

### –û–±—ä–µ–º–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π

```python
# –°–∏–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
volume_confirmation = {
    'volume_ratio': '>1.5',     # –û–±—ä–µ–º –≤ 1.5+ —Ä–∞–∑–∞ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
    'obv': 'confirming_price',  # OBV –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ü–µ–Ω–æ–≤–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
    'cmf': '>0.1 for buy, <-0.1 for sell',  # –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π CMF
    'mfi': 'confirming_direction'  # MFI —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
}

# –î–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è –æ–±—ä–µ–º–∞ (—Å–∏–≥–Ω–∞–ª –æ—Å–ª–∞–±–ª–µ–Ω–∏—è)
volume_divergence = {
    'volume_ratio': '<0.8',     # –ü–∞–¥–∞—é—â–∏–π –æ–±—ä–µ–º
    'obv': 'diverging_from_price',  # OBV —Ä–∞—Å—Ö–æ–¥–∏—Ç—Å—è —Å —Ü–µ–Ω–æ–π
    'cmf': 'weakening',         # CMF –æ—Å–ª–∞–±–µ–≤–∞–µ—Ç
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è

```python
from signal_quality_criteria import StructuralPatternDetector

# –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π
sr_levels = StructuralPatternDetector.detect_support_resistance(
    highs_list, lows_list, closes_list, window=20
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–æ—Ä–≥–æ–≤–ª–µ
current_price = closes_list[-1]

for support in sr_levels['support']:
    distance_to_support = abs(current_price - support['level']) / current_price
    
    if distance_to_support < 0.01:  # –ú–µ–Ω–µ–µ 1% –æ—Ç —É—Ä–æ–≤–Ω—è
        print(f"üîµ –¶–µ–Ω–∞ —É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ {support['level']:.2f}")
        print(f"   –°–∏–ª–∞: {support['strength']}, –ö–∞—Å–∞–Ω–∏–π: {support['touches']}")
        
        if support['strength'] > 5:
            print("   ‚ö° –°–∏–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å - –≤–æ–∑–º–æ–∂–µ–Ω –æ—Ç—Å–∫–æ–∫")

for resistance in sr_levels['resistance']:
    distance_to_resistance = abs(current_price - resistance['level']) / current_price
    
    if distance_to_resistance < 0.01:  # –ú–µ–Ω–µ–µ 1% –æ—Ç —É—Ä–æ–≤–Ω—è
        print(f"üî¥ –¶–µ–Ω–∞ —É —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è {resistance['level']:.2f}")
        print(f"   –°–∏–ª–∞: {resistance['strength']}, –ö–∞—Å–∞–Ω–∏–π: {resistance['touches']}")
        
        if resistance['strength'] > 5:
            print("   ‚ö° –°–∏–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å - –≤–æ–∑–º–æ–∂–µ–Ω –æ—Ç—Å–∫–æ–∫")
```

### –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

```python
# –ü–æ–∏—Å–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
patterns = StructuralPatternDetector.detect_chart_patterns(ohlc_df)

for pattern in patterns:
    print(f"\nüìä –ù–∞–π–¥–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω: {pattern['type']}")
    print(f"   –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {pattern['confidence']:.1%}")
    
    if pattern['type'] == 'double_top':
        print(f"   –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ: {pattern['resistance']:.2f}")
        print(f"   –¶–µ–ª—å: {pattern['target']:.2f}")
        print("   üìâ –ú–µ–¥–≤–µ–∂–∏–π —Å–∏–≥–Ω–∞–ª –ø—Ä–∏ –ø—Ä–æ–±–æ–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏")
        
    elif pattern['type'] == 'double_bottom':
        print(f"   –ü–æ–¥–¥–µ—Ä–∂–∫–∞: {pattern['support']:.2f}")
        print(f"   –¶–µ–ª—å: {pattern['target']:.2f}")
        print("   üìà –ë—ã—á–∏–π —Å–∏–≥–Ω–∞–ª –ø—Ä–∏ –ø—Ä–æ–±–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è")
        
    elif pattern['type'] in ['bull_flag', 'bear_flag']:
        print(f"   –†–∞–∑–º–µ—Ä –∏–º–ø—É–ª—å—Å–∞: {pattern['impulse_size']:.1%}")
        print(f"   –†–∞–∑–º–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏: {pattern['correction_size']:.1%}")
        print(f"   –¶–µ–ª—å: {pattern['target']:.2f}")
```

## –ú–µ–∂—Ä—ã–Ω–æ—á–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏

```python
from signal_quality_criteria import IntermarketCorrelationAnalyzer

# –†–∞—Å—á–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
correlations = IntermarketCorrelationAnalyzer.calculate_correlations(
    symbol_data_dict, window=100
)

# –ü–æ–∏—Å–∫ –æ–ø–µ—Ä–µ–∂–∞—é—â–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
leading_indicators = IntermarketCorrelationAnalyzer.find_leading_indicators(
    'BTCUSDT', correlations, threshold=0.7
)

for indicator in leading_indicators:
    print(f"üìä {indicator['symbol']}: –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è {indicator['correlation']:.2f}")
    print(f"   –¢–∏–ø: {indicator['type']}, –°–∏–ª–∞: {indicator['strength']}")

# –ü–æ–∏—Å–∫ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π
divergences = IntermarketCorrelationAnalyzer.detect_divergences(
    btc_data, eth_data, window=20
)

for div in divergences[-5:]:  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π
    print(f"üîÑ {div['type']} –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è")
    print(f"   –í—Ä–µ–º—è: {div['timestamp']}")
    print(f"   –ò–∑–º–µ–Ω–µ–Ω–∏—è: {div['symbol1_change']:.1%} vs {div['symbol2_change']:.1%}")
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

**–í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–≤–µ—Å 0.8-1.0):**
- ADX –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞
- Volume Ratio –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- MACD –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞
- RSI –¥–ª—è —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
- Parabolic SAR –¥–ª—è —Ç—Ä–µ–π–ª–∏–Ω–≥-—Å—Ç–æ–ø–æ–≤

**–°—Ä–µ–¥–Ω—è—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–≤–µ—Å 0.6-0.7):**
- Stochastic –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- Bollinger Bands –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- Williams %R –¥–ª—è –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏
- Ichimoku –¥–ª—è –æ–±—â–µ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ (–≤–µ—Å 0.3-0.5):**
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
- –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- –ú–µ–∂—Ä—ã–Ω–æ—á–Ω—ã–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏

### 2. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ —Ä—ã–Ω–æ—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º

**–°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥ (ADX > 25):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–µ–Ω–¥–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- –ò–∑–±–µ–≥–∞—Ç—å –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã
- –§–æ–∫—É—Å –Ω–∞ MACD, EMA, SAR
- –í—ã—Å–æ–∫–∏–π –≤–µ—Å –æ–±—ä–µ–º–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**–ë–æ–∫–æ–≤–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ (ADX < 20):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã
- RSI, Stochastic, Williams %R
- Bollinger Bands –¥–ª—è –≥—Ä–∞–Ω–∏—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ù–∏–∑–∫–∏–π –≤–µ—Å —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**–í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (ATR > 2%):**
- –£–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–æ–ø-–ª–æ—Å—Å—ã
- –°–Ω–∏–∑–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π
- –ò–∑–±–µ–≥–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- –§–æ–∫—É—Å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö

### 3. –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

**–ò–¥–µ–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É:**
```python
perfect_buy_signal = {
    'adx_val': '>25',                    # –°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥
    'adx_plus_di': '>adx_minus_di + 5',  # –ë—ã—á–∏–π —Ç—Ä–µ–Ω–¥
    'rsi_val': '30-50',                  # –ö–æ—Ä—Ä–µ–∫—Ü–∏—è, –Ω–æ –Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å
    'macd_hist': '>0 and rising',        # –ë—ã—á–∏–π –º–æ–º–µ–Ω—Ç
    'volume_ratio': '>1.5',              # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
    'price_above_ema': True,             # –¶–µ–Ω–∞ –≤—ã—à–µ EMA
    'bb_position': '0.2-0.6',            # –ù–µ —É –≥—Ä–∞–Ω–∏—Ü –ø–æ–ª–æ—Å
    'time_favorable': True               # –ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
}
```

**–ò–¥–µ–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É:**
```python
perfect_sell_signal = {
    'adx_val': '>25',                    # –°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥
    'adx_minus_di': '>adx_plus_di + 5',  # –ú–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥
    'rsi_val': '50-70',                  # –ö–æ—Ä—Ä–µ–∫—Ü–∏—è, –Ω–æ –Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å
    'macd_hist': '<0 and falling',       # –ú–µ–¥–≤–µ–∂–∏–π –º–æ–º–µ–Ω—Ç
    'volume_ratio': '>1.5',              # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–º
    'price_below_ema': True,             # –¶–µ–Ω–∞ –Ω–∏–∂–µ EMA
    'bb_position': '0.4-0.8',            # –ù–µ —É –≥—Ä–∞–Ω–∏—Ü –ø–æ–ª–æ—Å
    'time_favorable': True               # –ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
}
```

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

```python
def calculate_position_size(signal_quality, account_balance, base_risk=0.02):
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–∞
    """
    risk_multipliers = {
        SignalQuality.EXCELLENT: 1.0,    # 2% —Ä–∏—Å–∫–∞
        SignalQuality.GOOD: 0.75,        # 1.5% —Ä–∏—Å–∫–∞
        SignalQuality.MODERATE: 0.5,     # 1% —Ä–∏—Å–∫–∞
        SignalQuality.WEAK: 0.25,        # 0.5% —Ä–∏—Å–∫–∞
        SignalQuality.POOR: 0.0          # –ù–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å
    }
    
    risk_percent = base_risk * risk_multipliers.get(signal_quality, 0)
    return account_balance * risk_percent

def adjust_stop_loss(atr_value, base_sl=0.011):
    """
    –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
    """
    if atr_value > 0.02:      # –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
        return base_sl * 1.5
    elif atr_value < 0.005:   # –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
        return base_sl * 0.7
    else:
        return base_sl
```

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∞–Ω–∞–ª–∏–∑—É –≤—Å–µ—Ö 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å —á–µ—Ç–∫–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ ML-–º–æ–¥–µ–ª—å —Ç—Ä–µ–π–¥–∏–Ω–≥–∞.