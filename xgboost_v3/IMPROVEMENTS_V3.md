# üìã –£–ª—É—á—à–µ–Ω–∏—è XGBoost v3.0 - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ú–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ ROC-AUC ~0.50 (—Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è) –∏–∑-–∑–∞:
- –°–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (0.7%)
- –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∫–ª–∞—Å—Å–æ–≤
- –ß—Ä–µ–∑–º–µ—Ä–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –¥–ª—è –∑–∞—à—É–º–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **–ü–æ—Ä–æ–≥ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏** (`config/settings.py`)
```python
# –ë—ã–ª–æ: classification_threshold: float = 0.7
# –°—Ç–∞–ª–æ: classification_threshold: float = 1.5
```
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ù–∞ 15-–º–∏–Ω—É—Ç–Ω–æ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ –¥–≤–∏–∂–µ–Ω–∏–µ 0.7% - —ç—Ç–æ —Ä—ã–Ω–æ—á–Ω—ã–π —à—É–º. –ü–æ—Ä–æ–≥ 1.5% –¥–∞–µ—Ç –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã.

### 2. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏** (`config/settings.py`)
```python
# –ë—ã–ª–æ:
n_estimators: int = 1000
early_stopping_rounds: int = 50
max_depth: int = 4
learning_rate: float = 0.01
min_child_weight: int = 20
gamma: float = 2.0

# –°—Ç–∞–ª–æ:
n_estimators: int = 500
early_stopping_rounds: int = 30
max_depth: int = 3
learning_rate: float = 0.02
min_child_weight: int = 50
gamma: float = 5.0
```

### 3. **–î–∏–∞–ø–∞–∑–æ–Ω—ã Optuna** (`config/constants.py`)
```python
# –ë—ã–ª–æ:
'max_depth': {'min': 3, 'max': 6}
'min_child_weight': {'min': 20, 'max': 50}
'gamma': {'min': 1.0, 'max': 5.0}

# –°—Ç–∞–ª–æ:
'max_depth': {'min': 3, 'max': 5}
'min_child_weight': {'min': 30, 'max': 100}
'gamma': {'min': 2.0, 'max': 10.0}
```

### 4. **–ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏** (`config/settings.py`)
```python
# –ë—ã–ª–æ:
eval_metric: str = "logloss"
threshold_metric: str = "gmean"

# –°—Ç–∞–ª–æ:
eval_metric: str = "auc"
threshold_metric: str = "f1"
```

### 5. **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤** (`models/xgboost_trainer.py`)
```python
# –ë—ã–ª–æ: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ scale_pos_weight –¥–æ 10
# –°—Ç–∞–ª–æ: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ scale_pos_weight –¥–æ 5
```

### 6. **–†–∞–∑–º–µ—Ä –∞–Ω—Å–∞–º–±–ª—è** (`config/settings.py`)
```python
# –ë—ã–ª–æ: ensemble_size: int = 5
# –°—Ç–∞–ª–æ: ensemble_size: int = 3
```

### 7. **–û—Ç–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** (`utils/feature_selector.py`)
```python
# –ë—ã–ª–æ: technical: 85%, temporal: 2%, btc_related: 10%, symbol: 3%
# –°—Ç–∞–ª–æ: technical: 85%, temporal: 2%, btc_related: 8%, symbol: 5%
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ROC-AUC: ~0.50 (—Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)
- Accuracy: ~50%
- –ú–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- **ROC-AUC**: 0.55-0.65 (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –¥–ª—è –∫—Ä–∏–ø—Ç—ã)
- **Accuracy**: 55-60%
- **Precision**: 60-70% (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)
- **Recall**: 40-50% (–Ω–∞—Ö–æ–¥–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: –ú–µ–Ω—å—à–µ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ

## üöÄ –ó–∞–ø—É—Å–∫ —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–æ—Ä–æ–≥–∞
python xgboost_v3/check_new_threshold.py

# –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
python xgboost_v3/run_improved_v3.py

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
python xgboost_v3/main.py --test-mode --optimize --ensemble-size 3
```

## üí° –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ª—É—á—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∑–∞—à—É–º–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** - –º–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–æ –æ–Ω–∏ –Ω–∞–¥–µ–∂–Ω–µ–µ
3. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ø–æ—Ä–æ–≥–∏** - 1.5% –º–∏–Ω–∏–º—É–º –¥–ª—è 15-–º–∏–Ω—É—Ç–Ω–æ–≥–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
4. **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è** - —Å–∏–ª—å–Ω–∞—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `logs/xgboost_v3_*/final_report.txt` - –∏—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
2. `logs/xgboost_v3_*/metrics.json` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. `logs/xgboost_v3_*/plots/` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. Feature importance - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ú–µ—Ç—Ä–∏–∫–∏ –±—É–¥—É—Ç –Ω–∏–∂–µ, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –º–æ–¥–µ–ª—å —Å—Ç–∞–ª–∞ —á–µ—Å—Ç–Ω–µ–µ
- –§–æ–∫—É—Å –Ω–∞ –∏–∑–±–µ–∂–∞–Ω–∏–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏, –∞ –Ω–µ –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –º–µ—Ç—Ä–∏–∫