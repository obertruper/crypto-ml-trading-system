# üìä –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è XGBoost v3

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–ê–Ω–∞–ª–∏–∑ feature importance –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–æ–±—É—á–∏–ª–∞—Å—å –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö:

### –¢–æ–ø-10 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏:
1. **consecutive_hh** - 12.0% (–ø–∞—Ç—Ç–µ—Ä–Ω —Å–≤–µ—á–µ–π)
2. **is_hammer** - 11.2% (–ø–∞—Ç—Ç–µ—Ä–Ω —Å–≤–µ—á–µ–π)  
3. **dow_cos** - 10.0% (–¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏)
4. **dow_sin** - 8.9% (–¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏)
5. **market_regime_med_vol** - 7.2% (—Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞)
6. **is_weekend** - 6.3% (–≤—ã—Ö–æ–¥–Ω–æ–π)
7. **aroon_down** - 5.4% (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π)
8. **aroon_up** - 4.9% (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π)
9. **hour_cos** - 3.5% (—á–∞—Å –¥–Ω—è)
10. **hour_sin** - 3.1% (—á–∞—Å –¥–Ω—è)

**–ò—Ç–æ–≥–æ**: 
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏: ~32% –≤–∞–∂–Ω–æ—Å—Ç–∏
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–≤–µ—á–µ–π: ~23% –≤–∞–∂–Ω–æ—Å—Ç–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: —Ç–æ–ª—å–∫–æ ~10% –≤–∞–∂–Ω–æ—Å—Ç–∏

## üõ†Ô∏è –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–≤–æ—Ç –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (`utils/feature_selector.py`)

**–ë—ã–ª–æ:**
```python
n_technical = int(self.top_k * 0.6)    # 60%
n_temporal = int(self.top_k * 0.2)     # 20%
n_btc = int(self.top_k * 0.1)          # 10%
n_other = int(self.top_k * 0.1)        # 10%
```

**–°—Ç–∞–ª–æ:**
```python
n_technical = int(self.top_k * 0.8)    # 80% - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
n_temporal = int(self.top_k * 0.05)    # 5% - —Ä–µ–∑–∫–æ —É–º–µ–Ω—å—à–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ
n_btc = int(self.top_k * 0.1)          # 10% - –æ—Å—Ç–∞–≤–ª—è–µ–º BTC
n_other = int(self.top_k * 0.05)       # 5%
```

### 2. –ü–µ—Ä–µ–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ":
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–≤–µ—á–µ–π: `hammer`, `doji`, `engulfing`, `consecutive`, `pattern`, `candle`
- –†–µ–∂–∏–º—ã —Ä—ã–Ω–∫–∞: `market_regime`, `regime`, `trend`, `divergence`
- –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ: `gk_volatility`, `cumulative`, `position`, `log_return`, `ratio`

### 3. –£—Å–∏–ª–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏ (`config/constants.py`)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| max_depth | 4-12 | 6-10 |
| learning_rate | 0.005-0.3 | 0.01-0.05 |
| subsample | 0.6-0.95 | 0.6-0.8 |
| colsample_bytree | 0.6-0.95 | 0.6-0.8 |
| colsample_bylevel | - | 0.5-0.7 (–Ω–æ–≤—ã–π) |
| reg_alpha | 0-5 | 0.5-10 |
| reg_lambda | 0-5 | 1-10 |

### 4. –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (`data/preprocessor.py`)

**–ë—ã–ª–æ:** –°–ª—É—á–∞–π–Ω–æ–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å `train_test_split`

**–°—Ç–∞–ª–æ:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:
- Train: –ø–µ—Ä–≤—ã–µ 80% –¥–∞–Ω–Ω—ã—Ö
- Test: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20% –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–¥–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –±—É–¥—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö!

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **–°–Ω–∏–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è** –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö
2. **–£–ª—É—á—à–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞–ª–∏–∑–∞—Ü–∏–∏** –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–ë–æ–ª–µ–µ —á–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **–§–æ–∫—É—Å –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞—Ö** –≤–º–µ—Å—Ç–æ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–æ–∂–µ—Ç **–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
2. –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –±–æ–ª–µ–µ **—á–µ—Å—Ç–Ω–æ–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π**
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **—É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö** –æ–±—É—á–µ–Ω–∏—è
4. –ú–æ–¥–µ–ª—å –±–æ–ª—å—à–µ –Ω–µ —Å–º–æ–∂–µ—Ç "–ø–æ–¥–≥–ª—è–¥—ã–≤–∞—Ç—å" –≤ –±—É–¥—É—â–µ–µ

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (2 —Å–∏–º–≤–æ–ª–∞)
python run_xgboost_v3.py

# –ü—Ä–æ–¥–∞–∫—à–Ω –∑–∞–ø—É—Å–∫ (–≤—Å–µ —Å–∏–º–≤–æ–ª—ã)  
python run_xgboost_v3.py --mode production

# –ó–∞–ø—É—Å–∫ –Ω–∞ GPU —Å–µ—Ä–≤–µ—Ä–µ
python run_xgboost_v3.py --server uk --gpu
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. Feature importance - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å
2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–ª–∏–∂–µ –∫ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π
3. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 16.06.2025
**–ê–≤—Ç–æ—Ä:** Claude AI Assistant