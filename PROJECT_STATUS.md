# üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ ML –¥–ª—è –∫—Ä–∏–ø—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 6 –∏—é–Ω—è 2025, 17:50

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω config.yaml —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README.md, PROJECT_STRUCTURE.md, TRAINING_METHODS.md)

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ë–î `crypto_trading`
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã 5 —Ç–∞–±–ª–∏—Ü:
  - raw_market_data
  - processed_market_data
  - model_metadata
  - training_sequences
  - model_predictions
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
- Host: localhost
- Port: 5555
- Database: crypto_trading
- User: ruslan

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –§–¨–Æ–ß–ï–†–°–ù–´–ú —Ä—ã–Ω–∫–æ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ market_type –≤ –ë–î
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω TESTUSDT –∏–∑ —Å–ø–∏—Å–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ—å—é—á–µ—Ä—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- ‚ö†Ô∏è –û–∂–∏–¥–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ—å—é—á–µ—Ä—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤**:
- download_data.py - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ market_type='futures'
- prepare_dataset.py - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —Ñ—å—é—á–µ—Ä—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- train_advanced.py - JOIN —Å raw_market_data –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ market_type
- validate_futures_symbols.py - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —Ñ—å—é—á–µ—Ä—Å–∞—Ö
- run_futures_pipeline.py - –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞
- ‚úÖ –†–∞—Å—Å—á–∏—Ç–∞–Ω–æ 49 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–µ—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ processed_market_data

**–†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (49 –≥—Ä—É–ø–ø):**

#### –¢—Ä–µ–Ω–¥–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- `ema_15` - –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (15 –ø–µ—Ä–∏–æ–¥–æ–≤)
- `adx_val`, `adx_plus_di`, `adx_minus_di` - Average Directional Index –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- `macd_val`, `macd_signal`, `macd_hist` - MACD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞
- `ichimoku_conv`, `ichimoku_base` - –õ–∏–Ω–∏–∏ Ichimoku Cloud
- `sar` - Parabolic SAR
- `aroon_up`, `aroon_down` - Aroon –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- `dpo` - Detrended Price Oscillator
- `cci_val` - Commodity Channel Index

#### –û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã –∏–º–ø—É–ª—å—Å–∞:
- `rsi_val` - Relative Strength Index (RSI)
- `stoch_k`, `stoch_d` - Stochastic Oscillator
- `williams_r` - Williams %R
- `roc` - Rate of Change
- `ult_osc` - Ultimate Oscillator
- `mfi` - Money Flow Index

#### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:
- `atr_val` - Average True Range
- `bb_upper`, `bb_lower`, `bb_basis` - Bollinger Bands
- `donchian_upper`, `donchian_lower` - Donchian Channel
- `volatility_4`, `volatility_16` - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞ 4 –∏ 16 –ø–µ—Ä–∏–æ–¥–æ–≤

#### –û–±—ä–µ–º–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- `obv` - On Balance Volume
- `cmf` - Chaikin Money Flow
- `volume_sma` - –°–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –æ–±—ä–µ–º–∞
- `volume_ratio` - –û—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–º–∞ –∫ —Å—Ä–µ–¥–Ω–µ–π

#### Vortex –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- `vortex_vip`, `vortex_vin` - –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π Vortex

#### –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑–æ–≤—ã—Ö):
- `macd_signal_ratio` - –û—Ç–Ω–æ—à–µ–Ω–∏–µ MACD –∫ —Å–∏–≥–Ω–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏
- `adx_diff` - –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É +DI –∏ -DI
- `bb_position` - –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ Bollinger Bands (0-1)
- `rsi_dist_from_mid` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ RSI –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ (50)
- `stoch_diff` - –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É %K –∏ %D
- `vortex_ratio` - –û—Ç–Ω–æ—à–µ–Ω–∏–µ VI+ –∫ VI-
- `ichimoku_diff` - –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É conversion –∏ base –ª–∏–Ω–∏—è–º–∏
- `atr_norm` - ATR –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—ã

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- `hour` - –ß–∞—Å –¥–Ω—è (0-23)
- `day_of_week` - –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-6)
- `is_weekend` - –í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å (0/1)

#### –¶–µ–Ω–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- `price_change_1` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ 1 –ø–µ—Ä–∏–æ–¥ (15 –º–∏–Ω)
- `price_change_4` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ 4 –ø–µ—Ä–∏–æ–¥–∞ (1 —á–∞—Å)
- `price_change_16` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ 16 –ø–µ—Ä–∏–æ–¥–æ–≤ (4 —á–∞—Å–∞)

**–°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ (—Ü–µ–ª–µ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö):**

–ú–µ—Ç–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—è:
- **BUY —Å–∏–≥–Ω–∞–ª—ã**: Stop Loss = -1.1% (0.989), Take Profit = +5.8% (1.058)
- **SELL —Å–∏–≥–Ω–∞–ª—ã**: Stop Loss = +1.1% (1.011), Take Profit = -5.8% (0.942)

–ê–ª–≥–æ—Ä–∏—Ç–º:
1. –î–ª—è –∫–∞–∂–¥–æ–π —Å–≤–µ—á–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ 100 —Å–≤–µ—á–µ–π (25 —á–∞—Å–æ–≤)
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, —á—Ç–æ –Ω–∞—Å—Ç—É–ø–∏—Ç —Ä–∞–Ω—å—à–µ - Stop Loss –∏–ª–∏ Take Profit
3. –°–æ–∑–¥–∞—é—Ç—Å—è 4 –±–∏–Ω–∞—Ä–Ω—ã–µ –º–µ—Ç–∫–∏:
   - `buy_profit_target` - BUY —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç–∏–≥ Take Profit
   - `buy_loss_target` - BUY —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç–∏–≥ Stop Loss
   - `sell_profit_target` - SELL —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç–∏–≥ Take Profit
   - `sell_loss_target` - SELL —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç–∏–≥ Stop Loss

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Ç–æ–∫**:
```
BUY —Å–∏–≥–Ω–∞–ª—ã:
- –ü—Ä–∏–±—ã–ª—å–Ω—ã—Ö: 162 (8.1%)
- –£–±—ã—Ç–æ—á–Ω—ã—Ö: 1,830 (91.9%)
- –í—Å–µ–≥–æ: 1,992

SELL —Å–∏–≥–Ω–∞–ª—ã:
- –ü—Ä–∏–±—ã–ª—å–Ω—ã—Ö: 354 (15.6%)
- –£–±—ã—Ç–æ—á–Ω—ã—Ö: 1,916 (84.4%)
- –í—Å–µ–≥–æ: 2,270
```

### 5. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:**
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: 60 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ (15 —á–∞—Å–æ–≤) √ó 49 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: RobustScaler (—É—Å—Ç–æ–π—á–∏–≤ –∫ –≤—ã–±—Ä–æ—Å–∞–º)
- **–§–æ—Ä–º–∞—Ç**: 3D —Ç–µ–Ω–∑–æ—Ä [batch_size, sequence_length, features]

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π:**

1. **TFT (Temporal Fusion Transformer)** - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å:
   - Variable Selection Network - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - LSTM —Å–ª–æ–∏ (128‚Üí64) - –∑–∞—Ö–≤–∞—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - Multi-Head Attention (4 –≥–æ–ª–æ–≤—ã) - –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
   - Feed Forward Network - –≥–ª—É–±–æ–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
   - Static Context Encoder - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

2. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è LSTM –º–æ–¥–µ–ª—å** (train_simple.py):
   - LSTM (32 units) ‚Üí LSTM (16 units)
   - Dense —Å–ª–æ–∏ —Å Dropout
   - –ú–µ–Ω—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

**–û–±—É—á–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏ (4 –æ—Ç–¥–µ–ª—å–Ω—ã–µ):**
1. `buy_profit_model` - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP –¥–ª—è BUY
2. `buy_loss_model` - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è SL –¥–ª—è BUY
3. `sell_profit_model` - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP –¥–ª—è SELL
4. `sell_loss_model` - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è SL –¥–ª—è SELL

**–°—Ç–∞—Ç—É—Å:**
- ‚ö†Ô∏è TFT –º–æ–¥–µ–ª—å —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å NaN –≤ loss —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ (train_simple.py)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è (train_advanced.py) —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### 6. –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

1. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:**
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
   - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —ç–ø–æ—Ö–∏
   - –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

2. **–§–∞–π–ª–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - `logs/training_YYYYMMDD_HHMMSS/training.log` - –ø–æ–ª–Ω—ã–π –ª–æ–≥
   - `logs/training_*/model_name_metrics.csv` - –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —ç–ø–æ—Ö–∞–º
   - `logs/training_*/training_report.txt` - –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
   - `logs/training_*/error.log` - –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

3. **–ö–∞—Å—Ç–æ–º–Ω—ã–π callback (DetailedLoggingCallback):**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –∫–∞–∂–¥–æ–π —ç–ø–æ—Ö–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –≤ CSV
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ learning rate
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç–ø–æ—Ö–∏

4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
   - –ì—Ä–∞—Ñ–∏–∫–∏ Loss, Accuracy, AUC –ø–æ —ç–ø–æ—Ö–∞–º
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ train/validation –º–µ—Ç—Ä–∏–∫
   - –§–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `plots/`

5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
   - `monitor_training.py` - –∂–∏–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

### 7. MCP (Model Context Protocol) –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ Claude Code:**
- `mcp__ide__getDiagnostics` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–¥–∞ –∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –°–æ–∑–¥–∞–Ω `.mcp/config.json` –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL, GitHub, Memory —Å–µ—Ä–≤–µ—Ä–æ–≤
- –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `setup_mcp.sh`

## üöß –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. NaN –≤ loss —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏
**–ü—Ä–∏—á–∏–Ω–∞**: –°–∏–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤ (8.1% –∏ 15.6% –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö)

**–†–µ—à–µ–Ω–∏—è**:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å focal loss –≤–º–µ—Å—Ç–æ binary_crossentropy
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –∫–ª–∞—Å—Å–æ–≤
3. –£–º–µ–Ω—å—à–∏—Ç—å learning rate
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–æ–ª—å–∫–æ 2,976 –∑–∞–ø–∏—Å–µ–π –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

**–†–µ—à–µ–Ω–∏—è**:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö 51 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
2. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å data augmentation

## üìã TODO —Å–ø–∏—Å–æ–∫

### –°—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å NaN –≤ –æ–±—É—á–µ–Ω–∏–∏ - —Å–æ–∑–¥–∞–Ω train_advanced.py —Å Focal Loss
2. [x] –°–æ–∑–¥–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –º–æ–¥–µ–ª–∏ - —Å–æ–∑–¥–∞–Ω train_simple.py
3. [x] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–±—É—á–µ–Ω–∏–µ–º - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ train_advanced.py

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç - —Å–æ–∑–¥–∞–Ω full_pipeline.py
2. [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—É—á–µ–Ω–∏—è
3. [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
2. [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
3. [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Ç–æ—Ä–≥–æ–≤—ã–º –±–æ—Ç–æ–º

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏: ~25 –∑–∞–ø–∏—Å–µ–π/—Å–µ–∫
- –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏: ~220 –∑–∞–ø–∏—Å–µ–π/—Å–µ–∫
- –†–∞–∑–º–µ—Ä –ë–î: ~50 MB

### –û–±—É—á–µ–Ω–∏–µ (–æ–∂–∏–¥–∞–µ–º–æ–µ):
- –í—Ä–µ–º—è –Ω–∞ —ç–ø–æ—Ö—É: ~2-3 –º–∏–Ω—É—Ç—ã
- –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è: ~2-4 —á–∞—Å–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—å—é—á–µ—Ä—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
```bash
python validate_futures_symbols.py
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ + –∑–∞–≥—Ä—É–∑–∫–∞ + –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ + –æ–±—É—á–µ–Ω–∏–µ
python run_futures_pipeline.py
```

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–±—É—á–µ–Ω–∏—è
```bash

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
python train_advanced.py

# –û—Å–Ω–æ–≤–Ω–∞—è TFT –º–æ–¥–µ–ª—å
python train_model_postgres.py
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
python monitor_training.py

# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ª–æ–≥–æ–≤
python monitor_training.py --log-dir logs/training_20250606_173000

# –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 —Å–µ–∫)
python monitor_training.py --interval 5
```

### 4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
```bash
# –¢–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python download_all_data.py

# –¢–æ–ª—å–∫–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞
python prepare_dataset.py
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
SELECT symbol, COUNT(*) 
FROM processed_market_data 
GROUP BY symbol;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–∫
SELECT 
    SUM(buy_profit_target) as buy_profits,
    SUM(buy_loss_target) as buy_losses,
    SUM(sell_profit_target) as sell_profits,
    SUM(sell_loss_target) as sell_losses
FROM processed_market_data;
```

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –û–±–Ω–æ–≤–∏—Ç—å PROJECT_STATUS.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
3. –°–æ–∑–¥–∞—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1 –Ω–µ–¥–µ–ª—è):
- ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—á–∏–π pipeline –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –û–±—É—á–∏—Ç—å –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å —Å accuracy > 65%
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü):
- [ ] –î–æ—Å—Ç–∏—á—å AUC > 0.75 –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3 –º–µ—Å—è—Ü–∞):
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- [ ] –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 100+ —Å–∏–º–≤–æ–ª–æ–≤