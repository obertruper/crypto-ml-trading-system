# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –æ–±—É—á–µ–Ω–∏—è –Ω–∞ Vast.ai

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. **SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –∫ —Å–µ—Ä–≤–µ—Ä—É Vast.ai —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ü—Ä–æ–µ–∫—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω** –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ `/workspace/crypto_trading`
3. **Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ** —Å TensorFlow 2.19.0 –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GPU (RTX 4090)
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é PostgreSQL
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç—É 5555
pg_isready -p 5555 -h localhost

# –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
pg_ctl start -D /usr/local/var/postgres
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å –∫ –ë–î
**–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:**
```bash
./setup_remote_db_tunnel.sh
```
–û—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–∫—Ä—ã—Ç—ã–º!

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ
**–í –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:**
```bash
./run_training_on_vast.sh
```
–í—ã–±–µ—Ä–∏—Ç–µ:
- 1 - –¥–ª—è regression (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏)
- 2 - –¥–ª—è classification (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ profit/loss)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—Ä—É—á–Ω–æ–π):

#### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh -p 27681 root@79.116.73.220
```

#### 2. –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
```bash
ssh -p 27681 root@79.116.73.220 -R 5555:localhost:5555 -N
```

#### 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:
```bash
cd /workspace/crypto_trading
source /workspace/venv/bin/activate

# –î–ª—è regression
python train_universal_transformer.py --task regression --config remote_config.yaml

# –î–ª—è classification
python train_universal_transformer.py --task classification --config remote_config.yaml
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

### –í–∞—Ä–∏–∞–Ω—Ç 1: TensorBoard (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è TensorBoard
ssh -p 27681 root@79.116.73.220 -L 6006:localhost:16006 -N
```
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:6006

### –í–∞—Ä–∏–∞–Ω—Ç 2: Monitor script
```bash
ssh -p 27681 root@79.116.73.220
cd /workspace/crypto_trading
source /workspace/venv/bin/activate
python monitor_training.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Jupyter Notebook
–î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ –ª–æ–≥–æ–≤ Vast.ai (–ø–æ—Ä—Ç 8080)

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU:
```bash
ssh -p 27681 root@79.116.73.220 nvidia-smi
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
ssh -p 27681 root@79.116.73.220 "cd /workspace/crypto_trading && tail -f logs/training_*/training.log"
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
./sync_to_vast.sh
```

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```bash
# –ú–æ–¥–µ–ª–∏
rsync -avz -e "ssh -p 27681" root@79.116.73.220:/workspace/crypto_trading/trained_model/ ./trained_model/

# –ì—Ä–∞—Ñ–∏–∫–∏
rsync -avz -e "ssh -p 27681" root@79.116.73.220:/workspace/crypto_trading/logs/training_*/plots/ ./plots/
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **SSH —Ç—É–Ω–Ω–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω** –≤—Å–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è
2. **–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞** –Ω–∞ –ø–æ—Ä—Ç—É 5555
3. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å —Ç—É–Ω–Ω–µ–ª–µ–º** –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
./setup_remote_db_tunnel.sh

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
./run_training_on_vast.sh
# –í—ã–±–µ—Ä–∏—Ç–µ 1 –∏–ª–∏ 2

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
ssh -p 27681 root@79.116.73.220 -L 6006:localhost:16006 -N
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:6006
```

–ì–æ—Ç–æ–≤–æ! üöÄ